%ul.inbox
  - @mail_messages.each_with_index do |mail,i|
    %li
      %table.table-b
        %tr
          %td.tb-1-4
            %a.bg-profile-img-b{:href => "#"}
              %img.profile-img-b{:src => "/assets/img-d.png"}/
          %td.tb-2-4
            %a.label-43{:href => "#"}= mail.sender.fullname
            .expand{:style => "cursor:pointer;"}
              %h5.label-20= mail.sender.created_at.strftime("%B %d, %Y")
              %h5.label-20= "Location:  #{mail.sender.location || 'NV'}"
              %h5.label-20= "Emai: #{mail.sender.email}"
            %br/
            %div{:class => "msg#{i}" ,:style => "display:none;"}              
              %p.label-26= mail.body
              %div{:class=>"reply-msg#{mail.id}"}
                =render :partial => 'reply', :locals => {:mail => mail}
          %td.tb-3-4
            %h5.label-20= mail.created_at.strftime("%B %d, %Y")
          %td.tb-4-4
            %a.bg-cross-b{:href => "#"}
= will_paginate(@mail_messages, :class => 'pgt-bar',:inner_window => 2, :outer_window => 0, :renderer => RemoteLinkRenderer, :previous_label => '&lt; PREVIOUS'.html_safe, :next_label => 'NEXT &gt;'.html_safe)

:javascript
  $(function(){
    $('.expand').each(function(index) {
       $(this).click(function(){
          $('.msg'+index).toggle();
        });
    });
  });